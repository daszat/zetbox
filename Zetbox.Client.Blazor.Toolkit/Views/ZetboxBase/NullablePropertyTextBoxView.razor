@attribute [ViewDescriptor(Zetbox.App.GUI.Toolkit.Blazor)]

@if(ViewModel != null)
{
	<input type="text" value="@ViewModel.FormattedValueAsync" @onchange="@((e) => ViewModel.FormattedValue = e.Value?.ToString())" />
}

@code {
	[Parameter]
	public BaseValueViewModel ViewModel { get; set; }

	protected override async Task OnParametersSetAsync()
	{
		await base.OnParametersSetAsync();

		if (ViewModel != null)
		{
			ViewModel.PropertyChanged += (s, e) =>
			{
				switch (e.PropertyName)
				{
					case nameof(BaseValueViewModel.FormattedValueAsync):
						StateHasChanged();
						break;
				}
			};
		}
	}
}
